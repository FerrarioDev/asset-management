{% extends "base.html" %}

{% block content %}
    <form method="get" action="{% url 'asset_list' %}">
    <select class="btn btn-secondary dropdown-toggle" name="type">
        <option value="laptop">Laptops</option>
        <option value="desktop">Desktops</option>
    </select>
    <input type="submit" value="Filter" class="btn btn-outline-success">
  </form>

  {% if not request.GET.type %}
    <p>No asset type selected.</p>
  {% elif object_list %}

  <!-- Display the list of assets -->
  <table class="table">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Model</th>
            <th scope="col">Username</th>
            <th scope="col">Area</th>
            <th scope="col">Asset Number</th>
            <th scope="col">Serial Number</th>
            <th scope="col">Location</th>
            <th scope="col">Disk Serial Number</th>
        </tr>
    </thead>
    <tbody>
        {% for asset in object_list %}
            <tr>
                <td><a href="{% url 'edit_asset' asset.id %}">{{ asset.id }}</a></td>
                <td>{{ asset.model }}</td>
                <td>{{ asset.user }}</td>
                <td>{{ asset.user.groups.first.name }}</td>
                <td>{{ asset.asset_number }}</td>
                <td>{{ asset.serial_number }}</td>
                <td>{{ asset.location }}</td>
                <td>{{ asset.disk_serialnumber }}</td>
            </tr>
        {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No assets found.</p>
  {% endif %}
  <a href="upload/" class="btn btn-primary" role="button">Add Asset</a>
{% endblock %}
